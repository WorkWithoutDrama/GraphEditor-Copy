# –í–µ—Ç–∫–∞: refactor-json-structure

## üéØ –ó–∞–¥–∞—á–∞
–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON –º–æ–¥–µ–ª–∏:
1. **–†–∞–∑–¥–µ–ª–∏—Ç—å** –¥–µ–π—Å—Ç–≤–∏—è, –æ–±—ä–µ–∫—Ç—ã –∏ —Å–≤—è–∑–∏
2. **–í–≤–µ—Å—Ç–∏ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ ID** –¥–ª—è —Å–≤—è–∑–µ–π
3. **–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ "null"** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
4. **–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç** –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üìã –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø—Ä–æ–±–ª–µ–º–Ω–∞—è)

### –°–µ–π—á–∞—Å:
```json
{
  "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç email": {
    "init_states": ["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"],
    "final_states": ["Email –ø—Ä–æ–≤–µ—Ä–µ–Ω"]
  }
}
```

### –ü—Ä–æ–±–ª–µ–º—ã:
1. **–°–º–µ—à–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π** –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
2. **–ù–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID** –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. **–ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è** –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è, –æ–±—ä–µ–∫—Ç—ã, —Å–æ—Å—Ç–æ—è–Ω–∏—è
4. **–°–ª–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å** –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

## üöÄ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 1. **–ú–æ–¥–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π (model_actions)**
```json
"model_actions": [
  {
    "action_id": "a1768562907245",
    "action_name": "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç email",
    "action_links": {
      "manual": "—Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é",
      "API": "api/check-email",
      "UI": "/check-email"
    }
  }
]
```

### 2. **–ú–æ–¥–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤ (model_objects)**
```json
"model_objects": [
  {
    "object_id": "o17685",
    "object_name": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
    "resource_state": {
      "state_id": "s17685",
      "state_name": "–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
    },
    "object_links": {
      "manual": "—Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é",
      "API": "api/users/{id}",
      "UI": "/users/{id}"
    }
  }
]
```

### 3. **–°–≤—è–∑–∏ –ø—Ä–æ–µ–∫—Ç–∞ (project_connections)**
```json
"project_connections": [
  {
    "connection_id": "c001",
    "connection_out": "o17685s17685",  // —Å–æ—Å—Ç–∞–≤–Ω–æ–π ID: –æ–±—ä–µ–∫—Ç + —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    "connection_in": "a1768562907245", // ID –¥–µ–π—Å—Ç–≤–∏—è
    "connection_type": "initiates"     // –∏–ª–∏ "results_in", "requires"
  }
]
```

## üîß –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **–°–æ—Å—Ç–∞–≤–Ω—ã–µ ID –¥–ª—è —Å–≤—è–∑–µ–π**
```
connection_out = object_id + state_id
–ü—Ä–∏–º–µ—Ä: "o17685s17685"
```

### 2. **–°–æ—Å—Ç–æ—è–Ω–∏–µ "null" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
```json
{
  "object_id": "o00001",
  "object_name": "–ó–∞–¥–∞—á–∞",
  "resource_state": {
    "state_id": "s00000",
    "state_name": "null"
  }
}
```

### 3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π**
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ "null"
- –ï—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "null"
- –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∑–∂–µ

### 4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤**
- –ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
  - –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ (action_id)
  - –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –æ–±—ä–µ–∫—Ç (object_id) 
  - –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (state_id)
- –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã

## üìÅ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ:
1. **`api.py`** - –æ–±–Ω–æ–≤–∏—Ç—å `LLMClient` –∏ –ø—Ä–æ–º–ø—Ç—ã
2. **`graph-manager.js`** - –æ–±–Ω–æ–≤–∏—Ç—å `processGraphResponse`
3. **`script.js`** - –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ:
1. **`new-structure-example.json`** - –ø—Ä–∏–º–µ—Ä –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. **`structure-migration.md`** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
3. **`updated-prompts.md`** - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

## üí° –ù–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. **–†–∞–∑–¥–µ–ª—è—Ç—å** –¥–µ–π—Å—Ç–≤–∏—è, –æ–±—ä–µ–∫—Ç—ã –∏ —Å–≤—è–∑–∏
2. **–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID**:
   - –î–µ–π—Å—Ç–≤–∏—è: `a{timestamp}{random}`
   - –û–±—ä–µ–∫—Ç—ã: `o{timestamp}{random}`
   - –°–æ—Å—Ç–æ—è–Ω–∏—è: `s{timestamp}{random}`
   - –°–≤—è–∑–∏: `c{timestamp}{random}`

3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ** —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–≤—è–∑–µ–π
4. **–î–æ–±–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ "null"** –¥–ª—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞:
```
–¢—ã ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Å–∏—Å—Ç–µ–º. –°–æ–∑–¥–∞–π –º–æ–¥–µ–ª—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å —Ç—Ä–µ–º—è —Ä–∞–∑–¥–µ–ª–∞–º–∏:

1. model_actions - —Å–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π —Å–∏—Å—Ç–µ–º—ã
2. model_objects - —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏  
3. project_connections - —Å–≤—è–∑–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏

–ü–†–ê–í–ò–õ–ê:
- –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: {action_id, action_name, action_links}
- –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç: {object_id, object_name, resource_state{state_id, state_name}, object_links}
- –ö–∞–∂–¥–∞—è —Å–≤—è–∑—å: {connection_id, connection_out, connection_in, connection_type}

–í–ê–ñ–ù–û:
1. connection_out = object_id + state_id (–Ω–∞–ø—Ä–∏–º–µ—Ä: "o12345s67890")
2. –î–ª—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ "null": state_id: "s00000", state_name: "null"
3. –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–≤—è–∑–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ/–æ–±—ä–µ–∫—Ç/—Å–æ—Å—Ç–æ—è–Ω–∏–µ
4. –ï—Å–ª–∏ –Ω–µ—Ç - —Å–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
5. –î–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤–∏–¥–∞ "–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏: available" —Å–æ–∑–¥–∞–≤–∞—Ç—å: object_name: "–ó–∞–¥–∞—á–∞", state_name: "–≤ —Å—Ç–∞—Ç—É—Å–µ: available"
```

## üß™ –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è"
**–°—Ç–∞—Ä–æ–µ:**
```json
{
  "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è": {
    "init_states": ["–ù–µ—Ç —Å–µ—Å—Å–∏–∏"],
    "final_states": ["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"]
  }
}
```

**–ù–æ–≤–æ–µ:**
```json
{
  "model_actions": [
    {
      "action_id": "a1234567890",
      "action_name": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è",
      "action_links": {}
    }
  ],
  "model_objects": [
    {
      "object_id": "o12345",
      "object_name": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å", 
      "resource_state": {
        "state_id": "s00001",
        "state_name": "–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
      },
      "object_links": {}
    },
    {
      "object_id": "o12346",
      "object_name": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
      "resource_state": {
        "state_id": "s00002", 
        "state_name": "–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"
      },
      "object_links": {}
    }
  ],
  "project_connections": [
    {
      "connection_id": "c00001",
      "connection_out": "o12345s00001",
      "connection_in": "a1234567890",
      "connection_type": "initiates"
    },
    {
      "connection_id": "c00002", 
      "connection_out": "a1234567890",
      "connection_in": "o12346s00002",
      "connection_type": "results_in"
    }
  ]
}
```

### –ü—Ä–∏–º–µ—Ä 2: "–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏: available"
**–ù–æ–≤–æ–µ:**
```json
{
  "model_objects": [
    {
      "object_id": "o99999",
      "object_name": "–ó–∞–¥–∞—á–∞",
      "resource_state": {
        "state_id": "s99999",
        "state_name": "–≤ —Å—Ç–∞—Ç—É—Å–µ: available"
      },
      "object_links": {}
    }
  ]
}
```

## üóìÔ∏è –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ LLM –ª–æ–≥–∏–∫–∏
1. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã –≤ `api.py`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### –§–∞–∑–∞ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ JSON
1. –û–±–Ω–æ–≤–∏—Ç—å `tryFixJSON` –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. –û–±–Ω–æ–≤–∏—Ç—å `processGraphResponse`
3. –°–æ–∑–¥–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –§–∞–∑–∞ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
1. –û–±–Ω–æ–≤–∏—Ç—å `script.js` –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
3. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–≤—è–∑–µ–π

### –§–∞–∑–∞ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å—Ç–∞—Ä—ã—Ö –º–æ–¥–µ–ª–µ–π
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### 1. **–ß–∏—Å—Ç–æ—Ç–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è**
- –î–µ–π—Å—Ç–≤–∏—è, –æ–±—ä–µ–∫—Ç—ã, —Å–≤—è–∑–∏ - –æ—Ç–¥–µ–ª—å–Ω–æ
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### 2. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID**
- –õ–µ–≥–∫–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã
- –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 3. **–°–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤**
- –û–±—ä–µ–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π

### 4. **–ì–∏–±–∫–æ—Å—Ç—å —Å–≤—è–∑–µ–π**
- –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å–≤—è–∑–µ–π (initiates, results_in, requires)
- –°–æ—Å—Ç–∞–≤–Ω—ã–µ ID –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Å–≤—è–∑–µ–π

### 5. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

## üöÄ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
1. ‚úÖ **–ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
2. ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID** –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. ‚úÖ **–û–±—ä–µ–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è**
4. ‚úÖ **–ì–∏–±–∫–∏–µ —Å–≤—è–∑–∏** —Å —Å–æ—Å—Ç–∞–≤–Ω—ã–º–∏ ID
5. ‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- –í—Å–µ —Å—Ç–∞—Ä—ã–µ –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

## üìö –†–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- [JSON Schema](https://json-schema.org/) - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [UUID Generation](https://www.uuidgenerator.net/) - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID
- [Cytoscape Compound Nodes](https://js.cytoscape.org/#style/compound-nodes) - –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤+—Å–æ—Å—Ç–æ—è–Ω–∏–π

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:
```javascript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID
function generateId(prefix) {
  return prefix + Date.now() + Math.floor(Math.random() * 10000);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
function elementExists(elements, id) {
  return elements.some(el => el.id === id);
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ ID
function createCompositeId(objectId, stateId) {
  return `${objectId}${stateId}`;
}
```

**–í–µ—Ç–∫–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!** üöÄ