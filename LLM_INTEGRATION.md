# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π —Å–∏—Å—Ç–µ–º

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Large Language Models (LLM) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π —Å–∏—Å—Ç–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π (–¢–ó). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–≤–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ LLM:

1. **Ollama** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –ª–æ–∫–∞–ª—å–Ω—ã–π LLM
2. **DeepSeek** - –æ–±–ª–∞—á–Ω—ã–π LLM API

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (api.py)
- **LLMClient** - –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- **SystemModelHandler** - HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π LLM
- **REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**:
  - `POST /api/generate-model` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –¢–ó
  - `POST /api/set-provider` - —Å–º–µ–Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ LLM
  - `GET /api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è API

### 2. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å
- **GraphManager** - JavaScript –∫–ª–∞—Å—Å —Å –∫–Ω–æ–ø–∫–æ–π –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –∫–Ω–æ–ø–∫–∞ "ü§ñ LLM" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —á–∞—Ç–∞

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### Ollama (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama: https://ollama.ai/
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å: `ollama pull llama3.2`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Ollama: `ollama serve`
4. API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:11434`

### DeepSeek (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á: https://platform.deepseek.com/
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è: `export DEEPSEEK_API_KEY=–≤–∞—à_–∫–ª—é—á`
3. –ò–ª–∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ –∫–ª—é—á –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Graph Editor
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Graph Manager" –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
3. –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è —á–∞—Ç–µ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "ü§ñ LLM" –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
4. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¢–ó –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª
5. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å" –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏

### –ß–µ—Ä–µ–∑ API
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ (Ollama –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
curl -X POST "http://localhost:5001/api/generate-model" \
  -H "Content-Type: application/json" \
  -d '{"text":"–¢–µ–∫—Å—Ç –≤–∞—à–µ–≥–æ –¢–ó"}'

# –°–º–µ–Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞ DeepSeek
curl -X POST "http://localhost:5001/api/set-provider" \
  -H "Content-Type: application/json" \
  -d '{"provider":"deepseek"}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è API
curl -X GET "http://localhost:5001/api/health"
```

## –§–æ—Ä–º–∞—Ç –º–æ–¥–µ–ª–∏

LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è": {
    "init_states": ["–ù–µ—Ç —Å–µ—Å—Å–∏–∏"],
    "final_states": ["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"]
  },
  "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç email": {
    "init_states": ["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"],
    "final_states": ["Email –ø—Ä–æ–≤–µ—Ä–µ–Ω"]
  },
  ...
}
```

## –ü—Ä–æ–º–ø—Ç –¥–ª—è LLM

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π:

```
–¢—ã ‚Äî –≤—ã—Å–æ–∫–æ–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Å–∏—Å—Ç–µ–º. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (–¢–ó) –∏ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å —Å–∏—Å—Ç–µ–º—ã –≤ –≤–∏–¥–µ **JSON-–æ–±—ä–µ–∫—Ç–∞**.

–ö–∞–∂–¥—ã–π –∫–ª—é—á JSON ‚Äî —ç—Ç–æ **–¥–µ–π—Å—Ç–≤–∏–µ/–ø–µ—Ä–µ—Ö–æ–¥**. **–ö—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ:** –∫–∞–∂–¥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –µ–≥–æ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞: '**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**' (–¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–µ–ª–æ–≤–µ–∫–æ–º) –∏–ª–∏ '**–°–∏—Å—Ç–µ–º–∞**' (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π, —Ä–∞—Å—á–µ—Ç–æ–≤ –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö).

–ü—Ä–∏–º–µ—Ä —Ç—Ä–µ–±—É–µ–º–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:
{"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è": {"init_states": ["–ù–µ—Ç —Å–µ—Å—Å–∏–∏"], "final_states": ["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω"]}, "–°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ—Ä–º—É": {"init_states": ["–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã"], "final_states": ["–ë–∞–∑–æ–≤–∞—è –Ω–æ—Ä–º–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞"]}, ...}

–¢–µ–∫—Å—Ç –¢–ó –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
{—Ç–µ–∫—Å—Ç_—Ç–∑}

–°—Ñ–æ—Ä–º–∏—Ä—É–π –ø–æ–ª–Ω—É—é –∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –¢–ó. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—Ö–≤–∞—á–µ–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ –¢–ó.

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –≤—ã–≤–æ–¥–∏ —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON-–æ–±—ä–µ–∫—Ç, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π, –∫–æ–¥–∞ –∏–ª–∏ '```json'.
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

1. **LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –º–æ–¥–µ–ª—å
2. **–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞**: JSON –ø–∞—Ä—Å–∏—Ç—Å—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
3. **–°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏**: –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è fallback-–º–æ–¥–µ–ª—å

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ LLM
1. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `LLMClient.config`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `_generate_with_{provider}`
3. –û–±–Ω–æ–≤–∏—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞
–ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –≤ –º–µ—Ç–æ–¥–∞—Ö `_generate_with_ollama` –∏ `_generate_with_deepseek` –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
python3 api.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ API
curl -X GET "http://localhost:5001/api/health"

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–æ–¥–µ–ª–∏
curl -X POST "http://localhost:5001/api/generate-model" \
  -H "Content-Type: application/json" \
  -d '{"text":"–¢–µ—Å—Ç–æ–≤–æ–µ –¢–ó"}'
```