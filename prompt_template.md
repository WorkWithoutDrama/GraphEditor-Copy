# Промпт для генерации модели из ТЗ

## Цель промпта:
Преобразовать техническое задание (ТЗ) в формализованную модель процессов в формате JSON.

## Формат выходных данных:
```json
{
  "model_actions": [
    {
      "action_id": "a00001",
      "action_name": "Название действия",
      "action_links": {
        "manual": "",
        "API": "",
        "UI": ""
      }
    }
  ],
  "model_objects": [
    {
      "object_id": "o00001",
      "object_name": "Название объекта",
      "resource_state": [
        {
          "state_id": "s00001",
          "state_name": "начальное состояние"
        },
        {
          "state_id": "s00002", 
          "state_name": "конечное состояние"
        }
      ]
    }
  ],
  "model_connections": [
    {
      "connection_out": "o00001s00001",
      "connection_in": "a00001",
      "connection_label": "описание связи"
    }
  ]
}
```

## Структура промпта:

```
Ты - аналитик процессов. Твоя задача - проанализировать техническое задание и создать формализованную модель процессов.

АНАЛИЗИРУЙ следующее техническое задание:

[ТЕКСТ ТЗ БУДЕТ ЗДЕСЬ]

ИНСТРУКЦИИ ПО АНАЛИЗУ:

1. ИДЕНТИФИЦИРУЙ ДЕЙСТВИЯ:
   - Найдите все ключевые действия/процессы в ТЗ
   - Каждое действие должно иметь уникальный ID в формате "a" + 5 цифр (например: a00001)
   - Название действия должно кратко описывать процесс

2. ИДЕНТИФИЦИРУЙ ОБЪЕКТЫ И ИХ СОСТОЯНИЯ:
   - Найдите все объекты системы (сущности, ресурсы)
   - Для каждого объекта определите возможные состояния
   - Каждый объект должен иметь уникальный ID в формате "o" + 5 цифр (например: o00001)
   - Каждое состояние должно иметь уникальный ID в формате "s" + 5 цифр (например: s00001)
   - Объект+состояние представляется как единое целое (например: "Пользователь: неактивен")

3. ОПРЕДЕЛИ СВЯЗИ:
   - Для каждого действия найдите:
     * Какие объекты в каких состояниях необходимы для выполнения действия (начальные условия)
     * В какие состояния переходят объекты после выполнения действия (конечные условия)
   - Связи имеют формат: "объект+состояние" → "действие" → "объект+состояние"
   - connection_out - ID источника (начальное состояние или действие)
   - connection_in - ID цели (действие или конечное состояние)

4. ФОРМАТ ВЫВОДА:
   - Выведи ТОЛЬКО валидный JSON без дополнительного текста
   - JSON должен содержать три массива: model_actions, model_objects, model_connections
   - Все ID должны быть в правильном формате
   - Если объекта/действия/состояния нет в модели - добавь его

5. ПРИМЕР ДЛЯ ТЗ "Регистрация пользователя":
   - Действие: "Регистрация пользователя" (a00001)
   - Объект: "Пользователь" (o00001) с состояниями: "незарегистрирован" (s00001), "зарегистрирован" (s00002)
   - Связь: o00001s00001 → a00001 → o00001s00002

ВЕРНИ ТОЛЬКО JSON ОТВЕТ:
```

## Пример промпта с ТЗ:

```
Ты - аналитик процессов. Твоя задача - проанализировать техническое задание и создать формализованную модель процессов.

АНАЛИЗИРУЙ следующее техническое задание:

ТЕХНИЧЕСКОЕ ЗАДАНИЕ (ТЗ) на разработку клиент-серверного веб-приложения "Mindful Meals"

1. ОБЩИЕ СВЕДЕНИЯ
1.1. Название проекта: Mindful Meals (Планировщик питания)
1.2. Цель проекта: Разработка интерактивного веб-приложения для персонализированного планирования здорового питания, отслеживания калорий и генерации списков покупок.

2. ТРЕБОВАНИЯ К ФУНКЦИОНАЛУ
2.1. Клиентская часть (Frontend)
    2.1.1. Регистрация и Авторизация:
        * Регистрация по email/паролю.
        * Авторизация и восстановление пароля.
    2.1.2. Настройка Профиля:
        * Ввод личных данных: пол, возраст, рост, вес.
        * Установка цели: похудение, поддержание, набор массы.
        * Выбор диетических предпочтений/ограничений.
    2.1.3. Планировщик Питания:
        * Отображение недельного календаря.
        * Добавление/удаление/редактирование приемов пищи.
        * Поиск и добавление блюд/продуктов.
    2.1.4. База Рецептов/Продуктов:
        * Поиск по названию, ингредиентам, категории.
        * Добавление собственных рецептов.
    2.1.5. Список Покупок:
        * Генерация списка покупок на основе недельного плана.
        * Ручное редактирование списка.

2.2. Серверная часть (Backend)
    2.2.1. API:
        * Эндпоинты для управления пользователями.
        * Эндпоинты для управления планами питания.
        * Эндпоинты для работы с базой рецептов.
    2.2.2. База Данных:
        * Хранение данных пользователей.
        * Хранение данных о рецептах и продуктах.
        * Хранение недельных планов питания.

ИНСТРУКЦИИ ПО АНАЛИЗУ: [как в основном промпте выше]

ВЕРНИ ТОЛЬКО JSON ОТВЕТ:
```

## Требования к LLM:

1. **Понимание контекста**: LLM должен понимать домен ТЗ
2. **Структурирование**: Выделять действия, объекты, состояния
3. **Формализация**: Преобразовывать неформальные требования в формальную модель
4. **Генерация ID**: Создавать уникальные ID в правильном формате
5. **Связи**: Определять причинно-следственные связи между действиями и состояниями

## Проверка качества промпта:

✅ **Полнота**: Все действия и объекты из ТЗ включены в модель  
✅ **Корректность**: Связи логически соответствуют процессам  
✅ **Форматы**: Все ID в правильном формате (a00001, o00001s00001)  
✅ **Структура**: Выходные данные соответствуют JSON схеме  
✅ **Уникальность**: Все ID уникальны в пределах модели